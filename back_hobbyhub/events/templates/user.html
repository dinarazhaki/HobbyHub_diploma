{% extends "user_base.html" %}
{% load static %}
{% block title %}User Dashboard{% endblock %}

{% block extra_css %}
<link href="https://fonts.cdnfonts.com/css/gilroy-bold" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">
<link rel="stylesheet" href="{% static 'css/sass_styles.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="{% static 'css/user-styles.css' %}">
<link rel="stylesheet" href="{% static 'css/organizer-styles.css' %}">
{% endblock %}

{% block content %}
<section class="activities">
    <h2 class="title text-center">Upcoming Activities</h2>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            {% for event in events %}
            <div class="swiper-slide">
                <img class="actphoto" src="{{ event.image.url }}" alt="{{ event.title }}">
                <p class="ptitle">{{ event.title }}</p>
                <p class="plocat">{{ event.hobby_type }}</p>
                <div class="location-part">
                    <img src="{% static 'images/locationpoint.jpg' %}" alt="Location">
                    <p class="plocat">{{ event.location }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="activities-your activities">
    <h2 class="title text-center">Your Activities</h2>
    <div class="swiper-container your-act">
        <div class="swiper-wrapper">
            {% if registered_events %}
                {% for event in registered_events %}
                <div class="swiper-slide">
                    <img class="actphoto" src="{{ event.image.url }}" alt="{{ event.title }}">
                    <p class="ptitle">{{ event.title }}</p>
                    <p class="plocat">{{ event.hobby_type }}</p>
                    <div class="location-part">
                        <img src="{% static 'images/locationpoint.jpg' %}" alt="Location">
                        <p class="plocat">{{ event.location }}</p>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="no-events-message text-center">
                    <p>You haven't booked any activities yet.</p>
                    <a href="{% url 'user_activities' %}" class="btn btn-gradient">Book Now</a>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<h2 class="title text-center">Activity Calendar</h2>
<div class="calendar-container">
    <div class="calendar">
        <div class="calendar-header">
            <button class="prev-month">←</button>
            <div class="current-month-year"></div>
            <button class="next-month">→</button>
        </div>
        <div class="calendar-weekdays"></div>
        <div class="calendar-grid"></div>
    </div>
    <div class="activity-details">
        <img id="activity-image" src="{% static 'images/img0.png' %}" alt="Activity Image">
        <h3 id="activity-title">No activity scheduled</h3>
        <p id="activity-description">Select a date to see activity details.</p>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/calendar.js' %}"></script>
    <script src="{% static 'js/swiper.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
{% endblock %}
